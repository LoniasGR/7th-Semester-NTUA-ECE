IN 10H
MVI B,03H
MVI C,E8H
MVI D,00H ; D : COUNTER
MVI E,00H ; E : UP = 00 / DOWN = 01

MAIN:
LDA 2000H
ANI 80H
CPI 80H
JNZ MAIN

LED_PHASE:
LDA 2000H
ANI 0FH
CMP D
JC LAST
MOV A,D
CMA 
STA 3000H
CALL DELB
MOV A,E
CPI 00H
JZ UP
CPI 01H
JZ DOWN

UP: 
INR D
JMP LAST

DOWN:
DCR D
JMP LAST

LAST:
MOV A,D
CPI 00H
JZ ZERO
LDA 2000H
ANI 0FH
CMP D
JNC MAIN
CMP D 
JZ MAIN
DCR D
DCR D
MVI E,01H
JMP MAIN

ZERO:
MVI E,00H
JMP MAIN
HLT
END